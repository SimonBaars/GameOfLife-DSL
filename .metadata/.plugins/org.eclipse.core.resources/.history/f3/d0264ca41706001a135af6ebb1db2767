grammar com.simonbaars.GoLDSL with org.eclipse.xtext.common.Terminals

generate goLDSL "http://www.simonbaars.com/GoLDSL"

DSL: board=Board (rules += Rule | shapes+=Shape)*;
Board: 'Board:' (ShapeRef | Cell) (shapes += ShapeRef | cells += Cell)*;
Shape: 'Shape:' name=STRING cell=Cell (cells += Cell)*;
ShapeRef: name = STRING;
Cell: 'Cell:' x=INT ',' y=INT;
Rule: 'Rule:' condition=Condition action=Action;
Action: 'Create' cell=Cell; 
Condition: 'If' (condition = ConditionRules) (conditions += ConditionRule)*;
ConditionRule: (number = INT | range = Range | lives = Lives);
ConditionRules: rule1 = ConditionRule ?('&' (rule2 = ConditionRule | rules2 = ConditionRules));
Lives: 'Lives' cell=Cell;
Range: BoundedRange | UnboundedRange;
BoundedRange: lowerBound = INT '..' higherBound = INT;
UnboundedRange: (LeftUnboundedRange | RightUnboundedRange);
LeftUnboundedRange: '<' lowerBound = INT;
RightUnboundedRange: '>' higherBound = INT;